{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(arrImg) {\n    return arrImg\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=${largeImageURL}>\n     <img \n     class=\"gallery-image\" \n    src=\"${webformatURL}\" \n    alt=\"${tags}\"/>\n   <ul class=\"box-list\">\n     <li>\n      <h2 class=\"box-title\">Likes</h2>\n       <p class=\"box-text\">${likes}</p>\n       </li>\n      <li>\n      <h2 class=\"box-title\">Views</h2>\n      <p class=\"box-text\">${views}</p>\n      </li>\n      <li class=\"box-item\">\n      <h2 class=\"box-title\">Comments</h2>\n      <p class=\"box-text\">${comments}</p>\n      </li>\n      <li class=\"box-item\">\n      <h2 class=\"box-title\">Downloads</h2>\n      <p class=\"box-text\">${downloads}</p>\n      </li>\n      </ul>\n      </a>\n      </li>`\n      )\n      .join('');\n  }\n  ","\n\n// https://pixabay.com/api/?key=43264129-0a20e73c7f6f9c0a58d1fd1ca&q=dog&image_type=photo&orientation=horizontal&safesearch=true\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43264129-0a20e73c7f6f9c0a58d1fd1ca';\n\n\nimport axios  from \"axios\";\n// console.log(axios);\n\n\nexport async function makeRequest(inputEl) {\n try{ \n//     const params = new URLSearchParams({\n//     key: API_KEY,\n//     q: `${inputEl}`,\n//     imege_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: true,\n//   });\n  const response = await axios.get(`${BASE_URL}`,{params: {\n    key: API_KEY,\n    q: `${inputEl}`,\n    imege_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  }});\n  return response.data;\n}catch(error){\n    alert(error);\n}\n}\n//   return fetch(`${BASE_URL}?${params}`).then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.status);\n//     }\n//     return response.json();\n//   });\n// }\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { createMarkup } from './js/render-functions';\nimport { makeRequest } from './js/pixabay-api';\nconst searchEl = document.querySelector('form');\nconst ulEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\nloaderEl.style.display = 'none';\nsearchEl.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const form = event.target;\n  const inputEl = form.elements.imgName.value;\n  console.log(inputEl);\n  if (inputEl === '') {\n    iziToast.show({\n      message: ' Field must be filled! ',\n      position: 'topRight',\n      backgroundColor: 'red',\n      messageColor: '#FFFFFF',\n      transitionIn: 'fadeln',\n      timeout: 4000,\n    });\n    return;\n  }\n\n  loaderEl.style.display = 'block';\n\n  makeRequest(inputEl)\n    .then(data => {\n      console.log(data.hits);\n\n      loaderEl.style.display = 'none';\n      if (data.hits.length === 0) {\n        ulEl.innerHTML = '';\n        iziToast.show({\n          message:\n            ' Sorry, there are no images matching your search query. Please try again! ',\n          position: 'topRight',\n          backgroundColor: 'red',\n          messageColor: '#FFFFFF',\n          transitionIn: 'fadeln',\n          timeout: 4000,\n        });\n        return;\n      }\n      ulEl.innerHTML = createMarkup(data.hits);\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n    })\n    .catch(error => console.log('catch', error))\n    .finally(() => form.reset());\n}\n"],"names":["createMarkup","arrImg","webformatURL","largeImageURL","tags","likes","views","comments","downloads","BASE_URL","API_KEY","makeRequest","inputEl","axios","error","searchEl","ulEl","loaderEl","handleSubmit","event","form","iziToast","data","SimpleLightbox"],"mappings":"owBAAO,SAASA,EAAaC,EAAQ,CACjC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA,iCACmBL,CAAa;AAAA;AAAA;AAAA,WAGnCD,CAAY;AAAA,WACZE,CAAI;AAAA;AAAA;AAAA;AAAA,6BAIcC,CAAK;AAAA;AAAA;AAAA;AAAA,4BAINC,CAAK;AAAA;AAAA;AAAA;AAAA,4BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,4BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,YAK9B,EACA,KAAK,EAAE,CACd,CCpCA,MAAMC,EAAW,2BACXC,EAAU,qCAOT,eAAeC,EAAYC,EAAS,CAC1C,GAAG,CAeF,OAPiB,MAAMC,EAAM,IAAI,GAAGJ,CAAQ,GAAG,CAAC,OAAQ,CACtD,IAAKC,EACL,EAAG,GAAGE,CAAO,GACb,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CAAA,CAAC,GACc,IAClB,OAAOE,EAAM,CACT,MAAMA,CAAK,CACf,CACA,CCzBA,MAAMC,EAAW,SAAS,cAAc,MAAM,EACxCC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAW,SAAS,cAAc,SAAS,EACjDA,EAAS,MAAM,QAAU,OACzBF,EAAS,iBAAiB,SAAUG,CAAY,EAEhD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,OACbP,EAAUQ,EAAK,SAAS,QAAQ,MAEtC,GADA,QAAQ,IAAIR,CAAO,EACfA,IAAY,GAAI,CAClBS,EAAS,KAAK,CACZ,QAAS,0BACT,SAAU,WACV,gBAAiB,MACjB,aAAc,UACd,aAAc,SACd,QAAS,GACf,CAAK,EACD,MACD,CAEDJ,EAAS,MAAM,QAAU,QAEzBN,EAAYC,CAAO,EAChB,KAAKU,GAAQ,CAIZ,GAHA,QAAQ,IAAIA,EAAK,IAAI,EAErBL,EAAS,MAAM,QAAU,OACrBK,EAAK,KAAK,SAAW,EAAG,CAC1BN,EAAK,UAAY,GACjBK,EAAS,KAAK,CACZ,QACE,6EACF,SAAU,WACV,gBAAiB,MACjB,aAAc,UACd,aAAc,SACd,QAAS,GACnB,CAAS,EACD,MACD,CACDL,EAAK,UAAYhB,EAAasB,EAAK,IAAI,EACtB,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,CACP,CAAK,EACA,MAAMT,GAAS,QAAQ,IAAI,QAASA,CAAK,CAAC,EAC1C,QAAQ,IAAMM,EAAK,MAAK,CAAE,CAC/B"}